% TODO: move to cooperCV?

\medskip

\fontfamily{lmss}\selectfont

% Code to generate colored box headings
% \fboxsep0pt
% \hspace{-20mm}\colorbox{maincolor}{\begin{minipage}[t][8mm][c]{75mm}
% \hspace{20mm}\bfseries \color{white}  ~{{ name }}~
% \end{minipage}}
% \vspace{6mm}


\begin{minipage}{\textwidth}

%----------------------------------------------------------------------------------------
% Education
%----------------------------------------------------------------------------------------
~{ if name == "LIFE / EDUCATION" }~
  \cvsect{Education}
  \begin{entrylist}
  ~{ for experience in contents }~
      \entry
        {~{{ experience.dates }}~} % Date
        {~{{ experience.experience }}~} % Name
        {} % Unused
        {~{{ experience.degree }}~ 
        ~{- if experience.thesis -}~ \\ \textcolor{gray}{~{{ experience.thesis }}~} ~{- endif -}~
        } % What?
  ~{ endfor }~
  \end{entrylist}


{# 
% ~{ if name == "LIFE / EDUCATION" }~
%   ~{ for experience in contents }~
%     \begin{tabular}{ @{} p{32mm} l @{} }
%     {\small ~{{ experience.dates }}~} & {\small ~{{ experience.experience }}~}~{- if experience.location -}~ \small \hspace{1mm}- ~{{ experience.location }}~~{- endif -}~\\
%     ~{- if experience.degree -}~
%       & \small ~{{ experience.degree }}~.\\
%     ~{- endif -}~
%     ~{- if experience.grade -}~
%       & \small \color{maingrey} Final grade: ~{{ experience.grade }}~\\
%     ~{- endif -}~
%     \end{tabular} 
%     \vspace{1mm}
%   ~{ endfor }~
%   %additional space
%   \vspace{2mm}
#}


%----------------------------------------------------------------------------------------
% Publications
% Will only create the sections for the parts of the CV that exist. 
% TODO: Create new \entry class
%----------------------------------------------------------------------------------------

~{ elif name == "PUBLICATIONS" }~
\cvsect{Publications}
\begin{entrylist}

~{ for publications in contents }~
  ~{ if (publications.preprints is defined) and publications.preprints }~
  \cvsubsect{Preprints}
    ~{ for pub in publications.preprints}~
    \entry
      {}
      {~{{ pub }}~}
      {}
      {}
    ~{ endfor }~
  ~{ endif }~

  ~{ if (publications.published is defined) and publications.published }~
  \cvsubsect{Published}
    ~{ for pub in publications.published}~
    \entry
      {}
      {~{{ pub }}~}
      {}
      {}
    ~{ endfor }~
  ~{ endif }~

  ~{ if (publications.abstracts is defined) and publications.abstracts }~
  \cvsubsect{Abstracts}
    ~{ for pub in publications.abstracts}~
    \entry
      {}
      {~{{ pub }}~}
      {}
      {}
    ~{ endfor }~
  ~{ endif }~
~{ endfor }~

\end{entrylist}

%----------------------------------------------------------------------------------------
% Honors
% TODO: Later in life I'll add a funded / non-funded section
%----------------------------------------------------------------------------------------

~{ elif name == "ACHIEVEMENTS" }~
\cvsect{Awards}
\begin{entrylist}
  ~{ for honor in contents }~
    \entry
    {~{{ honor.date }}~}
    {~{{ honor.honor }}~}
    {}
    {}
  ~{ endfor }~
\end{entrylist}


%----------------------------------------------------------------------------------------
% Work
%----------------------------------------------------------------------------------------

~{ elif name == "WORK EXPERIENCE" }~
\cvsect{Experience}
\begin{entrylist}
~{ for experience in contents }~
  \entry
    {~{{ experience.dates }}~}
    {~{{ experience.title }}~}
    {~{{ experience.location }}~}
    {~{ for detail in experience.details }~ ~{{ detail }}~ ~{ endfor }~}
~{ endfor }~
\end{entrylist}

{#
% ~{ elif name == "WORK EXPERIENCE" }~
%   \begin{entrylist}
%   ~{ for experience in contents }~
%     \begin{tabular}{ @{} p{32mm} p{135mm} @{} }
%     & \small ~{{ experience.place }}~ ~{- if experience.location -}~ \small \hspace{1mm}- ~{{ experience.location }}~~{- endif -}~\\
%     \small ~{{ experience.dates }}~ & \bf\small ~{{ experience.title }}~ ~{- if experience.languages -}~\small\hspace{1mm}\bf\color{maincolor}(~{{ experience.languages }}~)~{- endif -}~\\
%     ~{- if experience.details -}~
%       ~{ for detail in experience.details }~
%         & $\cdot$ \small ~{{ detail }}~ \\
%       ~{ endfor }~
%     ~{- endif -}~
%     \end{tabular}
%     \vspace{2mm}
%   ~{ endfor }~
%   \end{entrylist}
% additional space
% \vspace{20mm}
#}
  

%----------------------------------------------------------------------------------------
% Research
%----------------------------------------------------------------------------------------

~{ elif name == "RESEARCH EXPERIENCE" }~
\cvsect{Research}
\begin{entrylist}
~{ for research in contents }~
  \entry
    {~{{ research.dates }}~}
    {~{{ research.title }}~}
    {~{{ research.location }}~}
    {~{{ research.description }}~}
~{ endfor }~
\end{entrylist}

{#
% ~{ elif name == "RESEARCH EXPERIENCE" }~
%   ~{ for research in contents }~
%     \begin{tabular}{ @{} p{32mm} p{135mm} @{} }

%     \small \bf Field & \small ~{{ research.field }}~ \\
%     \small \bf Title & \small ~{{ research.title }}~ \\
%     \small \bf PDF (in English) & \small ~{{ research.link }}~ \\
%     \small \bf Supervisor & \small ~{{ research.supervisor }}~ \\
%     \small \bf Description & \small ~{{ research.description }}~ \\
%     %\small \bf PDF Link & \small ~{{ research.link }}~ \\
%     \small \bf \small \color{maingrey} Final grade: & \small \color{maingrey} ~{{ research.grade }}~ \\
    
%     \end{tabular}
%     \vspace{1mm}
%   ~{ endfor }~
%   %additional space
%   \vspace{4mm}
#}



%----------------------------------------------------------------------------------------
% Networks
%----------------------------------------------------------------------------------------

~{ elif name == "NETWORKS" }~
\cvsect{Networks}
\begin{entrylist}

~{ for network in contents }~
  ~{ if (network.societies is defined) and network.societies }~
  \cvsubsect{Professional Societies}
    ~{ for node in network.societies}~
    \entry
      {}
      {~{{ node }}~}
      {}
      {}
    ~{ endfor }~
  ~{ endif }~

  ~{ if (network.other is defined) and network.other }~
  \cvsubsect{Other}
    ~{ for node in network.other}~
    \entry
      {}
      {~{{ node }}~}
      {}
      {}
    ~{ endfor }~
  ~{ endif }~

  ~{ if (network.confCommittee is defined) and network.confCommittee }~
  \cvsubsect{Conference Committee}
    ~{ for node in network.confCommittee}~
    \entry
      {}
      {~{{ node }}~}
      {}
      {}
    ~{ endfor }~
  ~{ endif }~
~{ endfor }~

\end{entrylist}


%----------------------------------------------------------------------------------------
% Pedagogy & Higher Education
%----------------------------------------------------------------------------------------

~{ elif name == "PEDAGOGY" }~
\cvsect{Pedagogy \& Higher Education}
\begin{entrylist}

~{ for pedagogy in contents }~
  ~{ if (pedagogy.ugcoinstruct is defined) and pedagogy.ugcoinstruct }~
  \cvsubsect{Undergraduate Co-Instructor}
    ~{ for node in pedagogy.ugcoinstruct}~
    \entry
      {}
      {~{{ node }}~}
      {}
      {}
    ~{ endfor }~
  ~{ endif }~

  ~{ if (pedagogy.ugta is defined) and pedagogy.ugta }~
  \cvsubsect{Undergraduate Teaching Assistant}
    ~{ for node in pedagogy.ugta}~
    \entry
      {}
      {~{{ node }}~}
      {}
      {}
    ~{ endfor }~
  ~{ endif }~

  ~{ if (pedagogy.commseats is defined) and pedagogy.commseats }~
  \cvsubsect{Committee Seats}
    ~{ for node in pedagogy.commseats}~
    \entry
      {}
      {~{{ node }}~}
      {}
      {}
    ~{ endfor }~
  ~{ endif }~
~{ endfor }~
\end{entrylist}

%----------------------------------------------------------------------------------------
% Skills
%----------------------------------------------------------------------------------------

~{ elif name == "SKILLS" }~
\cvsect{Skillset}

\begin{tabular}{ @{} p{32mm} p{135mm} @{} }
  ~{ for tool in contents }~
  \small \textcolor{gray}{{\emph{~{{ tool.title }}~}}} & {\small ~{{ tool.details }}~} \\
  ~{ endfor }~
\end{tabular}

%----------------------------------------------------------------------------------------
% Outreach and Service (Selected)
% TODO: Either add more info or figure out how to wrap into columns
%----------------------------------------------------------------------------------------

~{ elif name == "OUTREACH" }~
\cvsect{Outreach \& Service}

\begin{tabular}{ @{} p{32mm} p{135mm} @{} }
  ~{ for outreach in contents }~
  \small \textcolor{gray}{{\emph{ }}} & {\small ~{{ outreach.details }}~} \\
  ~{ endfor }~
\end{tabular}

%----------------------------------------------------------------------------------------
% Trainings, Workshops, etc.
%----------------------------------------------------------------------------------------

~{ elif name == "TRAININGS" }~
\cvsect{Trainings, Workshops, etc.}

\begin{tabular}{ @{} p{32mm} p{135mm} @{} }
  ~{ for trainings in contents }~
  \small \textcolor{gray}{{\emph{ }}} & {\small ~{{ trainings.details }}~} \\
  ~{ endfor }~
\end{tabular}

%----------------------------------------------------------------------------------------
% Press
% TODO: add link section. 
%----------------------------------------------------------------------------------------

~{ elif name == "PRESS" }~
\cvsect{Press}

\begin{tabular}{ @{} p{32mm} p{135mm} @{} }
  ~{ for press in contents }~
  \small \textcolor{gray}{{\emph{ }}} & {\small ~{{ press.details }}~} \\
  ~{ endfor }~
\end{tabular}

%----------------------------------------------------------------------------------------
% Erdos Number: 5
%----------------------------------------------------------------------------------------


~{ elif name == "ERDOS" }~
\cvsect{Erdos Number: 5}

\begin{tabular}{ @{} p{32mm} p{135mm} @{} }
  ~{ for erdos in contents }~
  \small \textcolor{gray}{{\emph{ }}} & {\small ~{{ erdos.details }}~} \\
  ~{ endfor }~
\end{tabular}


%----------------------------------------------------------------------------------------
% Languages
%----------------------------------------------------------------------------------------

~{ elif name == "HUMAN LANGUAGES" }~
  \begin{tabular}{ @{} p{32mm} p{135mm} @{} }
  ~{ for language in contents }~
    \bf {~{{ language.language }}~} & {\small ~{{ language.level }}~ ~{- if language.certified -}~ \small\color{maingrey}\hspace{1mm}(~{{ language.certified }}~)~{- endif -}~} \\
  ~{ endfor }~
  \end{tabular}
  %additional space
  \vspace{50mm}



%----------------------------------------------------------------------------------------
% Portfolio
%----------------------------------------------------------------------------------------

~{ elif name == "PORTFOLIO" }~
  ~{ for portfolio in contents }~
    {\bf ~{{ portfolio.name }}~ -- \color{maincolor}\url{~{{ portfolio.url }}~} }
    \vspace{1mm}
  ~{ endfor }~
  \vspace{5mm}

%----------------------------------------------------------------------------------------
% Projects
%----------------------------------------------------------------------------------------

~{ elif name == "PERSONAL PROJECTS" }~
  ~{ for project in contents }~
    {\small\bf ~{{ project.name }}~ ~{ if project.url }~ -- \color{maincolor}\url{~{{ project.url }}~} ~{ endif }~ }
    \vspace{1mm}
    ~{ if project.details -}~
    ~{ for detail in project.details }~
      $\cdot$ \small ~{{ detail }}~
    ~{ endfor }~
    ~{ endif }~
    \vspace{3mm}
  ~{ endfor }~
  \vspace{15mm}

%----------------------------------------------------------------------------------------
% Finish the page... 
%----------------------------------------------------------------------------------------

\vspace{10mm}
~{ else }~
  ~{{ contents }}~
  \bigskip
~{ endif }~
\end{minipage}